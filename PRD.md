# korail 티켓팅 프로그램

## 개요
- https://www.letskorail.com/ebizprd/EbizPrdTicketpr21100W_pr21110.do 
- 위 사이트를 크롤링해서 자동으로 티켓팅하는 프로그램

## 기술 스펙
- 환경: node.js
- 언어: Typescript
- 크롤링 라이브러리: selenium
    - browser driver: chrome
    - 브라우저 최적화 옵션:
        - GPU 하드웨어 가속 비활성화
        - 샌드박스 비활성화
        - 공유 메모리 사용 비활성화
        - 확장 프로그램 비활성화
        - 알림 비활성화
        - 정보 표시줄 비활성화

## 기능 명세
1. '조회' 정보
    - '인원정보' Select: '어른 2명' 선택
        - id: 'txtPsgFlg_1'
        - value: '2'
    - 'KTX/SRT' radio: value가 '00'인 radio 버튼 선택
    - '여정경로' radio: '직통' 선택
    - '출발역' 선택
        - id가 'start'인 input의 value를 '서울'로 설정
    - '도착역' 선택
        - id가 'get'인 input의 value를 '부산'으로 설정
    - '출발일' 선택
        - 연도: id가 's_year'인 select의 value를 '2024'로 설정
        - 월: id가 's_month'인 select의 value를 '12'로 설정
        - 일: id가 's_day'인 select의 value를 '14'로 설정
        - 시간: id가 's_hour'인 select의 value를 '08'로 설정
    - '조회하기' 버튼 클릭
        - selector: '#center > div.ticket_box > p.btn_inq'

2. 조회 결과 테이블: `#tableResult`
    - 주요 기능: 예매가 가능한 조건을 *배열*에 담아 콘솔에 출력
    - 대상: '조회하기' 클릭한 후 총 3페이지 (페이지 이동: '다음' 버튼 클릭)
    - 위 대상 중 예매가 가능한 조건 & 출력 형식
        - 테이블의 `tr` 로우 기준으로, 해당 td의 ['특실/우등실', '일반실'] 컬럼의 데이터 중 하나라도, `img` 태그의 `alt` 속성값이 ['좌석매진', '요구하신 좌석보다 남아 있는 좌석이 부족합니다'] 중 하나도 일치하지 않는 경우, 콘솔에 출력
        - 출력 형식: `['출발' 컬럼 데이터, '도착' 컬럼 데이터, '특실/우등실 정보', '일반실 정보']`
            - '출발' 컬럼 데이터: 개행문자('\n') 제거
            - '도착' 컬럼 데이터: 개행문자('\n') 제거
            - '특실/우등실 정보': `img` 태그의 `alt` 속성값이 ['좌석매진', '요구하신 좌석보다 남아 있는 좌석이 부족합니다'] 중 하나도 일치하지 않는 경우, `img` 태그의 `alt` 속성값 문자열
            - '일반실 정보': `img` 태그의 `alt` 속성값이 ['좌석매진', '요구하신 좌석보다 남아 있는 좌석이 부족합니다'] 중 하나도 일치하지 않는 경우, `img` 태그의 `alt` 속성값 문자열
    


